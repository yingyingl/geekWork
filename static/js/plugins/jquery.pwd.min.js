!function(i){var s={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},a=function(){return i("<i></i>")},e=function(){return i("<b></b>")},t=function(){return i("<span></span>").addClass("boxshadow")};i.fn.extend({Alipay:function(n){function d(s){c=0,f=0,p=-1,v=parseInt(i(s).find("input[name='payPassword_rsainput']").attr("maxlength")),o=i(s).innerWidth(),l=Math.floor(o/v)-1;var n=i("<div></div>").addClass("sixDigitPassword");i(n).appendTo(i(s));var d=t();d.css("width",l).appendTo(i(n));for(var r=0;v>r;r++){var b=a();i(b).css({width:l});var u=e();u.css({visibility:"hidden"}),i(n).append(b.append(u))}}var v,o,l,r,c=0,f=0,p=-1,b=this;d(this),i(window).on("click",function(a){if(r=i(b).attr("data-disabled"),!r){var e,t=[],d=a||window.event;d.stopPropagation(),e=d.target;var o=e.nodeName,u=i(e).parents(".alieditContainer"),C=u.find("i"),w=u.find("span"),y=u.find("input");u.find("div");!o||"I"!=o&&"DIV"!=o&&"SPAN"!=o&&"B"!=o||!i(e).hasClass("sixDigitPassword")&&!i(e).parents(".sixDigitPassword").hasClass("sixDigitPassword")?(i(".alieditContainer").find("i").removeClass("active"),i(".alieditContainer span").css("visibility","hidden"),i(document).off("keydown")):v>=c?(i(C[c]).addClass("active"),w.css({visibility:"visible",left:p}),i(document).off("keydown"),i(document).on("keydown",function(a){var e=a||window.event,d=e.keyCode;if(d>=48&&57>=d||d>=96&&105>=d)v>c?(i(C[f]).removeClass("active").find("b").css({visibility:"visible"}),c++,p=p+l+1,p>=(v-1)*(l+1)-1&&(p=(v-1)*(l+1)-1),i(C[c]).addClass("active"),w.css({visibility:"visible",left:p}),t.push(s[d])):(w.css({visibility:"visible"}),i(C[c]).removeClass("active"));else{if(8!=d)return;a.preventDefault(),c>=0&&(t.pop(),c>0?f>=v?(c=v-1,i(C[c]).addClass("active"),w.css({left:p}),i(C[c]).find("b").css({visibility:"hidden"})):(c--,i(C[c]).addClass("active"),p-=l+1,-1>=p&&(p=-1),w.css({left:p}),i(C[c]).find("b").css({visibility:"hidden"}),i(C[f]).removeClass("active")):(c=0,i(C[c]).addClass("active"),i(C[f]).removeClass("active"),w.css({visibility:"visible",left:p})))}f=c,y.val(t.join("")),n(y.val())})):(c=v-1,w.css({visibility:"visible"}))}})}})}(jQuery);